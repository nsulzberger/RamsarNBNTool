var curPage="",curTab="panelWhere",color="#e02d7f",colorIndex=0,item=0,colorTimer;function getUrlHash(){var a=0,b=window.location.hash;b&&(a=parseInt(b.replace("#","")),a>=config.items.length&&(a=0));return a}function setDefaults(a){curPage=a;color=config.colors[0];dojo.style("panelLogo","backgroundColor",color);dojo.style("panelMain","backgroundColor",color);startColorChange();item=getUrlHash();setItem();switch(a){case "about":initWhere()}} function toggleTab(a){dojo.style(curTab,"display","none");dojo.style(a,"display","block");curTab=a}function startColorChange(){stopColorChange();colorTimer=setInterval(toggleColor,8E3)}function stopColorChange(){colorTimer&&clearInterval(colorTimer)}function toggleColor(){colorIndex+=1;colorIndex>=config.colors.length&&(colorIndex=0);animateColor(config.colors[colorIndex]);color=config.colors[colorIndex];"about"==curPage&&setTimeout(changeSymbolColor,1E3)} function animateColor(a){if(a!=color){var b=dojo.animateProperty({node:dojo.byId("panelMain"),duration:2E3,properties:{backgroundColor:{start:color,end:a}}}),c=dojo.animateProperty({node:dojo.byId("panelLogo"),duration:2E3,properties:{backgroundColor:{start:color,end:a}}});"about"==curPage?dojo.fx.combine([b,c]).play():(a=dojo.animateProperty({node:dojo.byId("panelTab"),duration:2E3,properties:{backgroundColor:{start:color,end:a}}}),dojo.fx.combine([b,c,a]).play())}} function toggleItem(a){item+=a;item>=config.items.length&&(item=0);0>item&&(item=config.items.length-1);setItem()}function setItem(){var a=config.items[item];dojo.byId("divItem").style.backgroundImage="url("+a.image+")";dojo.byId("txtName").innerHTML=a.name;dojo.byId("txtTitle").innerHTML=a.title;dojo.byId("txtDesc").innerHTML=a.desc;window.location.hash=item;"about"!=curPage&&(a.url?dojo.byId("imgTab").src="images/viewmap.png":dojo.byId("imgTab").src="images/comingsoon.png")} function toggleMap(a){var b=config.items[item].url;b&&(a?window.open(b):"none"==dojo.style("panelMapFrame","display")?showMap(b,a):closeMap())} function showMap(a,b){stopColorChange();dojo.style("panelMapFrame","display","block");dojo.style("panelItem","display","none");dojo.byId("imgTab").src="images/closemap.png";b?""!=a&&window.open(a):dojo.byId("mapFrame").src=""!=a?a:"blank.html";var c=animatePanel("panelTop",300,70,0,"sineOut"),d=animatePanel("panelLogo",300,69,0,"sineOut"),e=animatePanel("panelMain",300,520,590,"sineOut");dojo.fx.combine([c,d,e]).play()} function closeMap(){startColorChange();dojo.style("panelMapFrame","display","none");dojo.style("panelItem","display","block");dojo.byId("imgTab").src="images/viewmap.png";dojo.byId("mapFrame").src="blank.html";var a=animatePanel("panelTop",300,0,70,"sineOut"),b=animatePanel("panelLogo",300,0,69,"sineOut"),c=animatePanel("panelMain",300,590,520,"sineOut");dojo.fx.combine([a,b,c]).play()} function animatePanel(a,b,c,d,e){a=dojo.byId(a);return dojo.animateProperty({node:a,duration:b,easing:dojo.fx.easing[e],properties:{height:{end:d,start:c}}})};